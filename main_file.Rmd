---
title: "R Notebook"
output: html_notebook
---

**PROJECT 4: Pima Diabetes - Detecting Diabetes from Imperfect Medical Data**

Project Goal : As data analysts in the healthcare sector, your team must build a model to predict the likelihood of diabetes in female patients of Pima Indian heritage. The primary challenge of this dataset is the presence of "impossible" data (zero values for biological measurements) that mask missing values. Your success will depend on your ability to identify and correct these anomalies before modeling.

```{r, include=FALSE}
# echo false pour toutes les cellules
knitr::opts_chunk$set(echo = FALSE) 

# Deleting previous environment
rm(list = ls())

# Importing needed libraries
library(dplyr)
library(ggplot2)
library(GGally)
```

**Step 1: Data Cleaning and Preparation**

First, we import the data. Then we look at the beginning of the table to familiarize ourselves with it. And we create a summary to get an overview of the range of numerical values.

```{r}
df = read.csv('diabetes.csv')
head(df)
summary(df) 
```

We observe that certain values are 0. However, this does not always make sense in a medical context. We deduce that these values are missing. We will replace them with ‘NA’.

```{r}
cols_with_zeros = c("Glucose", "BloodPressure", "SkinThickness", "Insulin", "BMI")

# Remplacer les zéros par NA dans ces colonnes
df = df %>%
  mutate(across(all_of(cols_with_zeros), ~na_if(., 0)))

head(df)
```

The ‘NA’ value count:

```{r}
colSums(is.na(df))
```

In order to analyze our dataset, we need to fill in the ‘NA’ values. We choose to replace them with the median of their respective column.

```{r}
for (col in cols_with_zeros) {
  median_value = median(df[[col]], na.rm = TRUE)
  df[[col]][is.na(df[[col]])] = median_value
}

head(df)
```

All ‘NA’ values have been replaced & no more 0 remains:

```{r}
colSums(is.na(df))
cat("\n") # Ajout d'une ligne vide
sapply(df[cols_with_zeros], function(x) sum(x == 0))
```

**Step 2: Feature Transformation and Engineering**
